import{r as a,R as $,j as e}from"./index-Dkb6AkJB.js";import{c as M,I,C as O,a as P,V as z}from"./Version-Dlc0-ITo.js";/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=M("CornerDownLeft",[["polyline",{points:"9 10 4 15 9 20",key:"r3jprv"}],["path",{d:"M20 4v7a4 4 0 0 1-4 4H4",key:"6o5b7l"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=M("Delete",[["path",{d:"M10 5a2 2 0 0 0-1.344.519l-6.328 5.74a1 1 0 0 0 0 1.481l6.328 5.741A2 2 0 0 0 10 19h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2z",key:"1yo7s0"}],["path",{d:"m12 9 6 6",key:"anjzzh"}],["path",{d:"m18 9-6 6",key:"1fp51s"}]]),K=()=>{const[m,b]=a.useState(new Date),[u,f]=a.useState(""),[r,g]=a.useState(""),[o,y]=a.useState([]),[c,j]=a.useState(!1),[D,w]=a.useState(!1),[R,k]=a.useState(""),[T,d]=a.useState(0),[_,E]=a.useState(()=>{const t=localStorage.getItem("gamesShowInstructions");return t===null?!0:JSON.parse(t)}),x=a.useRef([]),p=t=>{const s=`${t.getFullYear()}-${t.getMonth()+1}-${t.getDate()}`;let n=0;for(let i=0;i<s.length;i++)n=(n<<5)-n+s.charCodeAt(i),n=n&n;let l="",h=Math.abs(n);for(let i=0;i<6;i++)h=(h*9301+49297)%233280,l+=Math.floor(h/233280*10).toString();return l};a.useEffect(()=>{f(p(m)),x.current=Array(6).fill().map((t,s)=>x.current[s]||$.createRef())},[m]);const L=(t,s)=>{const n=parseInt(t),l=parseInt(s);if(n===l)return"correct";const h=Math.abs(n-l),i=10-h;return h<=2||i<=2?"close":"wrong"},C=t=>{const s=[];for(let n=0;n<6;n++)t[n]===u[n]?s.push("correct"):s.push(L(t[n],u[n]));return s},N=t=>{c||r.length>=6||g(s=>{const n=s+t;return n.length<6&&d(n.length),n})},v=t=>{c||(t.key==="Enter"&&r.length===6?S():t.key==="Backspace"?g(s=>{const n=s.slice(0,-1);return d(Math.max(0,n.length)),n}):/^\d$/.test(t.key)&&r.length<6&&N(t.key))},U=t=>{var s;c||(d(t),(s=x.current[t])==null||s.focus())},S=()=>{if(r.length!==6){k("Please enter all 6 digits"),w(!0),setTimeout(()=>w(!1),3e3);return}const t=C(r),s=[...o,{number:r,results:t}];y(s),(r===u||s.length===5)&&j(!0),g(""),d(0)},B=Array(5-o.length).fill().map((t,s)=>Array(6).fill("empty")),H=t=>{const s=new Date(t.target.value);b(s),f(p(s)),G()},G=()=>{y([]),j(!1),g(""),d(0)},A=()=>{const t=new Date(m);t.setDate(t.getDate()-1),b(t),f(p(t)),G()};return a.useEffect(()=>(window.addEventListener("keydown",v),()=>window.removeEventListener("keydown",v)),[r,c]),e.jsxs("div",{className:"p-6 relative",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Numbers"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("input",{type:"date",value:m.toISOString().split("T")[0],onChange:H,max:new Date().toISOString().split("T")[0],className:"border rounded px-2 py-1"}),e.jsx("button",{onClick:()=>E(!0),className:"p-2 text-gray-500 hover:text-gray-700",children:e.jsx(I,{className:"w-5 h-5"})})]})]}),D&&e.jsx("div",{className:"mb-4 p-4 bg-yellow-100 text-yellow-800 rounded",children:R}),e.jsxs("div",{className:"grid gap-2",children:[o.map((t,s)=>e.jsx("div",{className:"flex gap-2 justify-center",children:t.number.split("").map((n,l)=>e.jsx("div",{className:`
                  w-12 h-12 flex items-center justify-center text-xl font-bold text-white rounded
                  ${t.results[l]==="correct"?"bg-green-500":t.results[l]==="close"?"bg-yellow-500":"bg-gray-400"}
                `,children:n},`${s}-${l}`))},s)),!c&&e.jsx("div",{className:"flex gap-2 justify-center",children:Array(6).fill().map((t,s)=>e.jsxs("div",{className:`
                  w-12 h-12 flex items-center justify-center text-xl font-bold border-2 rounded cursor-pointer
                  ${s===T?"border-blue-500":r[s]?"border-gray-400":"border-gray-200"}
                `,onClick:()=>U(s),children:[e.jsx("input",{ref:n=>x.current[s]=n,type:"text",className:"sr-only",onFocus:()=>d(s)}),r[s]||""]},`current-${s}`))}),B.slice(c?0:1).map((t,s)=>e.jsx("div",{className:"flex gap-2 justify-center",children:t.map((n,l)=>e.jsx("div",{className:"w-12 h-12 border-2 border-gray-200 rounded"},`empty-${s}-${l}`))},`empty-${s}`))]}),!c&&e.jsx("div",{className:"mt-6 max-w-md mx-auto",children:e.jsxs("div",{className:"grid grid-cols-6 gap-2",children:[[0,1,2,3,4].map(t=>e.jsx("button",{onClick:()=>N(t.toString()),className:"p-4 bg-gray-200 rounded hover:bg-gray-300 font-bold h-14",disabled:r.length>=6,children:t},t)),e.jsx("button",{onClick:()=>g(t=>{const s=t.slice(0,-1);return d(Math.max(0,s.length)),s}),className:"p-4 bg-blue-500 text-white rounded hover:bg-blue-600 h-14 flex items-center justify-center",disabled:r.length===0,children:e.jsx(W,{className:"w-6 h-6"})}),[5,6,7,8,9].map(t=>e.jsx("button",{onClick:()=>N(t.toString()),className:"p-4 bg-gray-200 rounded hover:bg-gray-300 font-bold h-14",disabled:r.length>=6,children:t},t)),e.jsx("button",{onClick:S,className:"p-4 bg-green-500 text-white rounded hover:bg-green-600 font-bold disabled:bg-gray-300 h-14 flex items-center justify-center",disabled:r.length!==6,children:e.jsx(F,{className:"w-6 h-6"})})]})}),c&&e.jsxs("div",{className:"mt-8 space-y-4 max-w-md mx-auto",children:[e.jsx("div",{className:`text-xl font-bold text-center ${o[o.length-1].number===u?"text-green-600":"text-red-600"}`,children:o[o.length-1].number===u?e.jsxs(e.Fragment,{children:["Congratulations! You solved NUMBERS for ",m.toLocaleDateString()," in ",o.length," ",o.length===1?"guess":"guesses","!"]}):e.jsxs(e.Fragment,{children:["Game Over! The number was ",u]})}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("button",{onClick:A,className:"px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors flex items-center justify-center gap-2 text-lg",children:[e.jsx(O,{className:"w-5 h-5"})," Play Previous Day"]})})]}),e.jsxs(P,{isOpen:_,onClose:()=>E(!1),title:"How to Play",children:[e.jsx("p",{children:"Welcome to Daily Numbers! Here's how to play:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[e.jsx("li",{children:"Try to guess today's 6-digit number within 5 attempts"}),e.jsx("li",{children:"After each guess, you'll get feedback:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[e.jsxs("li",{children:[e.jsx("span",{className:"text-green-500 font-bold",children:"Green"})," means the digit is correct"]}),e.jsxs("li",{children:[e.jsx("span",{className:"text-yellow-500 font-bold",children:"Yellow"})," means the digit is within 2 numbers of the correct digit (including wraparound: 9â†”0)"]}),e.jsxs("li",{children:[e.jsx("span",{className:"text-gray-500 font-bold",children:"Gray"})," means the digit is not close"]})]}),e.jsxs("li",{children:[e.jsx("span",{className:"font-bold",children:"Remember!"})," Numbers wrap around: for example, 9 is within 2 of 0 and 1, and 0 is within 2 of 8 and 9"]}),e.jsx("li",{children:"You can play previous days' puzzles using the date selector"})]}),e.jsx("p",{children:"Good luck!"})]}),e.jsx(z,{gameName:"Numbers"})]})};export{K as default};

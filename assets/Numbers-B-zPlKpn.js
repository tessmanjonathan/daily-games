import{c as G,r as n,R as $,j as e}from"./index-r1yXczDT.js";import{I,C as O,a as P,V as z}from"./Version-CVFAyuwh.js";/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=G("CornerDownLeft",[["polyline",{points:"9 10 4 15 9 20",key:"r3jprv"}],["path",{d:"M20 4v7a4 4 0 0 1-4 4H4",key:"6o5b7l"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=G("Delete",[["path",{d:"M10 5a2 2 0 0 0-1.344.519l-6.328 5.74a1 1 0 0 0 0 1.481l6.328 5.741A2 2 0 0 0 10 19h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2z",key:"1yo7s0"}],["path",{d:"m12 9 6 6",key:"anjzzh"}],["path",{d:"m18 9-6 6",key:"1fp51s"}]]),K=()=>{const[h,f]=n.useState(new Date),[d,x]=n.useState(""),[a,m]=n.useState(""),[o,N]=n.useState([]),[i,w]=n.useState(!1),[M,k]=n.useState(!1),[D,R]=n.useState(""),[T,u]=n.useState(0),[_,j]=n.useState(()=>{const t=localStorage.getItem("gamesShowInstructions");return t===null?!0:JSON.parse(t)}),b=n.useRef([]),y=t=>{const s=`${t.getFullYear()}-${t.getMonth()+1}-${t.getDate()}`;let r=0;for(let c=0;c<s.length;c++)r=(r<<5)-r+s.charCodeAt(c),r=r&r;let l="",g=Math.abs(r);for(let c=0;c<6;c++)g=(g*9301+49297)%233280,l+=Math.floor(g/233280*10).toString();return l};n.useEffect(()=>{x(y(h)),b.current=Array(6).fill().map((t,s)=>b.current[s]||$.createRef())},[h]);const L=(t,s)=>{const r=parseInt(t),l=parseInt(s);if(r===l)return"correct";const g=Math.abs(r-l),c=10-g;return g<=2||c<=2?"close":"wrong"},C=t=>{const s=[];for(let r=0;r<6;r++)t[r]===d[r]?s.push("correct"):s.push(L(t[r],d[r]));return s},p=t=>{i||a.length>=6||m(s=>{const r=s+t;return r.length<6&&u(r.length),r})},v=t=>{i||(t.key==="Enter"&&a.length===6?E():t.key==="Backspace"?m(s=>{const r=s.slice(0,-1);return u(Math.max(0,r.length)),r}):/^\d$/.test(t.key)&&a.length<6&&p(t.key))},U=t=>{var s;i||(u(t),(s=b.current[t])==null||s.focus())},E=()=>{if(a.length!==6){R("Please enter all 6 digits"),k(!0),setTimeout(()=>k(!1),3e3);return}const t=C(a),s=[...o,{number:a,results:t}];N(s),(a===d||s.length===5)&&w(!0),m(""),u(0)},B=Array(5-o.length).fill().map((t,s)=>Array(6).fill("empty")),H=t=>{const s=new Date(t.target.value);f(s),x(y(s)),S()},S=()=>{N([]),w(!1),m(""),u(0)},A=()=>{const t=new Date(h);t.setDate(t.getDate()-1),f(t),x(y(t)),S()};return n.useEffect(()=>(window.addEventListener("keydown",v),()=>window.removeEventListener("keydown",v)),[a,i]),e.jsxs("div",{className:"p-6 relative",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold dark:text-white",children:"Numbers"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("input",{type:"date",value:h.toISOString().split("T")[0],onChange:H,max:new Date().toISOString().split("T")[0],className:`border rounded px-2 py-1 bg-white dark:bg-gray-700 dark:text-white dark:border-gray-600 
              focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 dark-mode-date
              [&::-webkit-calendar-picker-indicator]:dark:invert
              [&::-webkit-calendar-picker-indicator]:dark:opacity-70
              [&::-webkit-calendar-picker-indicator]:hover:cursor-pointer`}),e.jsx("button",{onClick:()=>j(!0),className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:e.jsx(I,{className:"w-5 h-5"})})]})]}),M&&e.jsx("div",{className:"mb-4 p-4 bg-yellow-100 dark:bg-yellow-900/50 text-yellow-800 dark:text-yellow-200 rounded",children:D}),e.jsxs("div",{className:"grid gap-2",children:[o.map((t,s)=>e.jsx("div",{className:"flex gap-2 justify-center",children:t.number.split("").map((r,l)=>e.jsx("div",{className:`
                  w-12 h-12 flex items-center justify-center text-xl font-bold text-white rounded
                  ${t.results[l]==="correct"?"bg-green-500 dark:bg-green-500":t.results[l]==="close"?"bg-yellow-500 dark:bg-yellow-500":"bg-gray-400 dark:bg-gray-600"}
                  transition-colors
                `,children:r},`${s}-${l}`))},s)),!i&&e.jsx("div",{className:"flex gap-2 justify-center",children:Array(6).fill().map((t,s)=>e.jsxs("div",{className:`
                  w-12 h-12 flex items-center justify-center text-xl font-bold rounded
                  border-2 cursor-pointer transition-all
                  dark:text-white
                  ${s===T?"border-blue-500 dark:border-blue-400":a[s]?"border-gray-400 dark:border-gray-500":"border-gray-200 dark:border-gray-700"}
                  hover:border-blue-300 dark:hover:border-blue-400
                  bg-white dark:bg-gray-700
                `,onClick:()=>U(s),children:[e.jsx("input",{ref:r=>b.current[s]=r,type:"text",className:"sr-only",onFocus:()=>u(s)}),a[s]||""]},`current-${s}`))}),B.slice(i?0:1).map((t,s)=>e.jsx("div",{className:"flex gap-2 justify-center",children:t.map((r,l)=>e.jsx("div",{className:"w-12 h-12 border-2 border-gray-200 dark:border-gray-700 rounded"},`empty-${s}-${l}`))},`empty-${s}`))]}),!i&&e.jsx("div",{className:"mt-6 max-w-md mx-auto",children:e.jsxs("div",{className:"grid grid-cols-6 gap-2",children:[[0,1,2,3,4].map(t=>e.jsx("button",{onClick:()=>p(t.toString()),className:`p-4 h-14 font-bold rounded transition-colors
                  bg-gray-200 hover:bg-gray-300 
                  dark:bg-gray-700 dark:hover:bg-gray-600
                  dark:text-white
                  disabled:opacity-50 disabled:cursor-not-allowed`,disabled:a.length>=6,children:t},t)),e.jsx("button",{onClick:()=>m(t=>t.slice(0,-1)),className:`p-4 h-14 rounded transition-colors
                bg-blue-500 hover:bg-blue-600 text-white
                disabled:opacity-50 disabled:cursor-not-allowed
                flex items-center justify-center`,disabled:a.length===0,children:e.jsx(W,{className:"w-6 h-6"})}),[5,6,7,8,9].map(t=>e.jsx("button",{onClick:()=>p(t.toString()),className:`p-4 h-14 font-bold rounded transition-colors
                  bg-gray-200 hover:bg-gray-300 
                  dark:bg-gray-700 dark:hover:bg-gray-600
                  dark:text-white
                  disabled:opacity-50 disabled:cursor-not-allowed`,disabled:a.length>=6,children:t},t)),e.jsx("button",{onClick:E,className:`p-4 h-14 rounded transition-colors
                bg-green-500 hover:bg-green-600 text-white
                disabled:bg-gray-300 dark:disabled:bg-gray-600
                flex items-center justify-center`,disabled:a.length!==6,children:e.jsx(F,{className:"w-6 h-6"})})]})}),i&&e.jsxs("div",{className:"mt-8 space-y-4 max-w-md mx-auto",children:[e.jsx("div",{className:`text-xl font-bold text-center ${o[o.length-1].number===d?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:o[o.length-1].number===d?e.jsxs(e.Fragment,{children:["Congratulations! You solved NUMBERS for ",h.toLocaleDateString()," in ",o.length," ",o.length===1?"guess":"guesses","!"]}):e.jsxs(e.Fragment,{children:["Game Over! The number was ",d]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:A,className:"w-full p-2 bg-blue-500 hover:bg-blue-600 text-white rounded transition-colors flex items-center justify-center gap-2",children:[e.jsx(O,{className:"w-4 h-4"})," Play Previous Day"]}),e.jsx("a",{href:"#tiles",className:"block w-full p-2 bg-green-500 hover:bg-green-600 text-white rounded transition-colors text-center",children:"Try out today's Daily Tile game"})]})]}),e.jsxs(P,{isOpen:_,onClose:()=>j(!1),title:"Welcome to Daily Numbers!",children:[e.jsx("p",{children:"Here's how to play:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[e.jsx("li",{children:"Try to guess today's 6-digit number within 5 attempts"}),e.jsx("li",{children:"After each guess, you'll get feedback:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[e.jsxs("li",{children:[e.jsx("span",{className:"text-green-500 dark:text-green-400 font-bold",children:"Green"})," means the digit is correct"]}),e.jsxs("li",{children:[e.jsx("span",{className:"text-yellow-500 dark:text-yellow-400 font-bold",children:"Yellow"})," means the digit is within 2 numbers of the correct digit (including wraparound: 9â†”0)"]}),e.jsxs("li",{children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400 font-bold",children:"Gray"})," means the digit is not close"]})]}),e.jsxs("li",{children:[e.jsx("span",{className:"font-bold",children:"Remember!"})," Numbers wrap around: for example, 9 is within 2 of 0 and 1, and 0 is within 2 of 8 and 9"]}),e.jsx("li",{children:"You can play previous days' puzzles using the date selector"})]}),e.jsx("p",{children:"Good luck!"})]}),e.jsx(z,{gameName:"Numbers"})]})};export{K as default};
